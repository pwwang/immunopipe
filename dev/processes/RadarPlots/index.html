<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>RadarPlots - immunopipe</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../assets/style.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "RadarPlots";
        var mkdocs_page_input_path = "processes/RadarPlots.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.configure({ ignoreUnescapedHTML: true }); hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">
  <div class="wy-social"><div class="github_repo">
      <a href="https://github.com/pwwang/immunopipe" title="Open repository in GitHub" target="_blank">
        <!-- Icon from https://www.iconfinder.com/search?q=github&category=social-media -->
        <img src="../../github_icon.png" alt="GitHub repo" />
      </a>
    </div></div>
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../rtd-logo.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="nav-scrollable-wrapper">
      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../introduction/">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../installation/">Installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../getting-started/">Geting started</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../gallery/">Gallery</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../running/">Running the pipeline</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../preparing-input/">Preparing the input</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../configurations/">Configurations</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Processes</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../SampleInfo/">SampleInfo</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ImmunarchLoading/">ImmunarchLoading</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SeuratPreparing/">SeuratPreparing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SeuratClusteringOfAllCells/">SeuratClusteringOfAllCells</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ClusterMarkersOfAllCells/">ClusterMarkersOfAllCells</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../TopExpressingGenesOfAllCells/">TopExpressingGenesOfAllCells</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../TCellSelection/">TCellSelection</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ModuleScoreCalculator/">ModuleScoreCalculator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SeuratClustering/">SeuratClustering</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SeuratMap2Ref/">SeuratMap2Ref</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CellTypeAnnotation/">CellTypeAnnotation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SeuratSubClustering/">SeuratSubClustering</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../TCRClustering/">TCRClustering</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../TCRClusterStats/">TCRClusterStats</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../IntegratingTCRClusters/">IntegratingTCRClusters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ClusterMarkers/">ClusterMarkers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../TopExpressingGenes/">TopExpressingGenes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Immunarch/">Immunarch</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../TESSA/">TESSA</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../IntegratingTCR/">IntegratingTCR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../SeuratClusterStats/">SeuratClusterStats</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">RadarPlots</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#environment-variables">Environment Variables</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CloneResidency/">CloneResidency</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ScFGSEA/">ScFGSEA</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CellsDistribution/">CellsDistribution</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../MarkersFinder/">MarkersFinder</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../MetaMarkers/">MetaMarkers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CDR3AAPhyschem/">CDR3AAPhyschem</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Metabolic Landscape Analysis</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ScrnaMetabolicLandscape/">Introduction & Group Arguments</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../MetabolicInput/">MetabolicInput</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../MetabolicExprImpution/">MetabolicExprImpution</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../MetabolicFeatures/">MetabolicFeatures</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../MetabolicFeaturesIntraSubset/">MetabolicFeaturesIntraSubset</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../MetabolicPathwayActivity/">MetabolicPathwayActivity</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../MetabolicPathwayHeterogeneity/">MetabolicPathwayHeterogeneity</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../faq/">FAQ</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../CHANGELOG/">Change log</a>
                </li>
              </ul>
      </div>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">immunopipe</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Processes</li>
      <li class="breadcrumb-item active">RadarPlots</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/pwwang/immunopipe/blob/dev/docs/processes/RadarPlots.md">Edit on pwwang/immunopipe</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="radarplots">RadarPlots<a class="headerlink" href="#radarplots" title="Permanent link">&para;</a></h2>
<p>Radar plots for cell proportion in different clusters.</p>
<p>This process generates the radar plots for the clusters of T cells.<br />
It explores the proportion of cells in different groups (e.g. Tumor vs Blood)
in different T-cell clusters.<br /></p>
<h3 id="environment-variables">Environment Variables<a class="headerlink" href="#environment-variables" title="Permanent link">&para;</a></h3>
<ul>
<li><code>mutaters</code> <em>(<code>type=json</code>)</em>: <em>Default: <code>{}</code></em>. <br />
    Mutaters to mutate the metadata of the seurat object. Keys are the column names and values are the expressions to mutate the columns. These new columns will be used to define your cases..<br />
    See also
    <a href="../../configurations/#mutating-the-metadata"><code>mutating the metadata</code></a>.<br /></li>
<li><code>by</code>:
    Which column to use to separate the cells in different groups.<br />
    <code>NA</code>s will be ignored. For example, If you have a column named <code>Source</code>
    that marks the source of the cells, and you want to separate the cells
    into <code>Tumor</code> and <code>Blood</code> groups, you can set <code>by</code> to <code>Source</code>.<br />
    The there will be two curves in the radar plot, one for <code>Tumor</code> and
    one for <code>Blood</code>.<br /></li>
<li><code>each</code>:
    A column with values to separate all cells in different cases
    When specified, the case will be expanded to multiple cases for
    each value in the column.<br />
    If specified, <code>section</code> will be ignored, and the case name will
    be used as the section name.<br /></li>
<li><code>prefix_each</code> <em>(<code>flag</code>)</em>: <em>Default: <code>True</code></em>. <br />
    Whether to prefix the <code>each</code> column name to the values as the
    case/section name.<br /></li>
<li><code>breakdown</code>:
    An additional column with groups to break down the cells
    distribution in each cluster. For example, if you want to see the
    distribution of the cells in each cluster in different samples. In
    this case, you should have multiple values in each <code>by</code>. These values
    won't be plotted in the radar plot, but a barplot will be generated
    with the mean value of each group and the error bar.<br /></li>
<li><code>test</code> <em>(<code>choice</code>)</em>: <em>Default: <code>wilcox</code></em>. <br />
    The test to use to calculate the p values.<br />
    If there are more than 2 groups in <code>by</code>, the p values will be calculated
    pairwise group by group. Only works when <code>breakdown</code> is specified and
    <code>by</code> has 2 groups or more.<br /><ul>
<li><code>wilcox</code>:
    Wilcoxon rank sum test</li>
<li><code>t</code>:
    T test</li>
<li><code>none</code>:
    No test will be performed</li>
</ul>
</li>
<li><code>order</code> <em>(<code>list</code>)</em>:
    The order of the values in <code>by</code>. You can also limit
    (filter) the values we have in <code>by</code>. For example, if column <code>Source</code>
    has values <code>Tumor</code>, <code>Blood</code>, <code>Spleen</code>, and you only want to plot
    <code>Tumor</code> and <code>Blood</code>, you can set <code>order</code> to <code>["Tumor", "Blood"]</code>.<br />
    This will also have <code>Tumor</code> as the first item in the legend and <code>Blood</code>
    as the second item.<br /></li>
<li><code>colors</code>:
    The colors for the groups in <code>by</code>. If not specified,
    the default colors will be used.<br />
    Multiple colors can be separated by comma (<code>,</code>).<br />
    You can specify <code>biopipen</code> to use the <code>biopipen</code> palette.<br /></li>
<li><code>ident</code>: <em>Default: <code>seurat_clusters</code></em>. <br />
    The column name of the cluster information.<br /></li>
<li><code>cluster_order</code> <em>(<code>list</code>)</em>: <em>Default: <code>[]</code></em>. <br />
    The order of the clusters.<br />
    You may also use it to filter the clusters. If not given,
    all clusters will be used.<br />
    If the cluster names are integers, use them directly for the order,
    even though a prefix <code>Cluster</code> is added on the plot.<br /></li>
<li><code>breaks</code> <em>(<code>list;itype=int</code>)</em>: <em>Default: <code>[]</code></em>. <br />
    breaks of the radar plots, from 0 to 100.<br />
    If not given, the breaks will be calculated automatically.<br /></li>
<li><code>direction</code> <em>(<code>choice</code>)</em>: <em>Default: <code>intra-cluster</code></em>. <br />
    Direction to calculate the percentages.<br /><ul>
<li><code>inter-cluster</code>:
    the percentage of the cells in all groups
    in each cluster (percentage adds up to 1 for each cluster).<br /></li>
<li><code>intra-cluster</code>:
    the percentage of the cells in all clusters.<br />
    (percentage adds up to 1 for each group).<br /></li>
</ul>
</li>
<li><code>section</code>: <em>Default: <code>DEFAULT</code></em>. <br />
    If you want to put multiple cases into a same section
    in the report, you can set this option to the name of the section.<br />
    Only used in the report.<br /></li>
<li><code>subset</code>:
    The subset of the cells to do the analysis.<br /></li>
<li><code>bar_devpars</code> <em>(<code>ns</code>)</em>:
    The parameters for <code>png()</code> for the barplot<ul>
<li><code>res</code> <em>(<code>type=int</code>)</em>: <em>Default: <code>100</code></em>. <br />
    The resolution of the plot</li>
<li><code>height</code> <em>(<code>type=int</code>)</em>: <em>Default: <code>800</code></em>. <br />
    The height of the plot</li>
<li><code>width</code> <em>(<code>type=int</code>)</em>: <em>Default: <code>1200</code></em>. <br />
    The width of the plot</li>
</ul>
</li>
<li><code>devpars</code> <em>(<code>ns</code>)</em>:
    The parameters for <code>png()</code><ul>
<li><code>res</code> <em>(<code>type=int</code>)</em>: <em>Default: <code>100</code></em>. <br />
    The resolution of the plot</li>
<li><code>height</code> <em>(<code>type=int</code>)</em>: <em>Default: <code>1000</code></em>. <br />
    The height of the plot</li>
<li><code>width</code> <em>(<code>type=int</code>)</em>: <em>Default: <code>1200</code></em>. <br />
    The width of the plot</li>
</ul>
</li>
<li><code>cases</code> <em>(<code>type=json</code>)</em>: <em>Default: <code>{}</code></em>. <br />
    The cases for the multiple radar plots.<br />
    Keys are the names of the cases and values are the arguments for
    the plots (<code>each</code>, <code>by</code>, <code>order</code>, <code>breaks</code>, <code>direction</code>,
    <code>ident</code>, <code>cluster_order</code> and <code>devpars</code>).<br />
    If not cases are given, a default case will be used, with the
    key <code>DEFAULT</code>.<br />
    The keys must be valid string as part of the file name.<br /></li>
</ul>
<h3 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h3>
<p>Let's say we have a metadata like this:<br /></p>
<table>
<thead>
<tr>
<th>Cell</th>
<th>Source</th>
<th>Timepoint</th>
<th>seurat_clusters</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>Blood</td>
<td>Pre</td>
<td>0</td>
</tr>
<tr>
<td>B</td>
<td>Blood</td>
<td>Pre</td>
<td>0</td>
</tr>
<tr>
<td>C</td>
<td>Blood</td>
<td>Post</td>
<td>1</td>
</tr>
<tr>
<td>D</td>
<td>Blood</td>
<td>Post</td>
<td>1</td>
</tr>
<tr>
<td>E</td>
<td>Tumor</td>
<td>Pre</td>
<td>2</td>
</tr>
<tr>
<td>F</td>
<td>Tumor</td>
<td>Pre</td>
<td>2</td>
</tr>
<tr>
<td>G</td>
<td>Tumor</td>
<td>Post</td>
<td>3</td>
</tr>
<tr>
<td>H</td>
<td>Tumor</td>
<td>Post</td>
<td>3</td>
</tr>
</tbody>
</table>
<p>With configurations:<br /></p>
<div class="highlight"><pre><span></span><code><span class="k">[RadarPlots.envs]</span>
<span class="n">by</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Source&quot;</span>
</code></pre></div>
<p>Then we will have a radar plots like this:<br /></p>
<p><img alt="Radar plots" src="https://pwwang.github.io/immunopipe/latest/processes/images/RadarPlots-default.png" /></p>
<p>We can use <code>each</code> to separate the cells into different cases:<br /></p>
<div class="highlight"><pre><span></span><code><span class="k">[RadarPlots.envs]</span>
<span class="n">by</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Source&quot;</span>
<span class="n">each</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Timepoint&quot;</span>
</code></pre></div>
<p>Then we will have two radar plots, one for <code>Pre</code> and one for <code>Post</code>:<br /></p>
<p><img alt="Radar plots" src="https://pwwang.github.io/immunopipe/latest/processes/images/RadarPlots-each.png" /></p>
<p>Using <code>cluster_order</code> to change the order of the clusters and show only the first 3 clusters:<br /></p>
<div class="highlight"><pre><span></span><code><span class="k">[RadarPlots.envs]</span>
<span class="n">by</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Source&quot;</span>
<span class="n">cluster_order</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">]</span>
<span class="n">breaks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">]</span><span class="w">  </span><span class="c1"># also change the breaks</span>
</code></pre></div>
<p><img alt="Radar plots cluster_order" src="https://pwwang.github.io/immunopipe/latest/processes/images/RadarPlots-cluster_order.png" /></p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>All the plots used in the examples are just for demonstration purpose. The real plots will have different appearance.<br /></p>
</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../SeuratClusterStats/" class="btn btn-neutral float-left" title="SeuratClusterStats"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../CloneResidency/" class="btn btn-neutral float-right" title="CloneResidency">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../SeuratClusterStats/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../CloneResidency/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
    <script src="../../js/version-select.js"></script>
      <script src="../../assets/script.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
